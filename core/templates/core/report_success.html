{% extends 'core/base.html' %}

{% block title %}Signal Published | Found.it{% endblock %}

{% block content %}
<div class="min-h-screen bg-slate-50 dark:bg-[#020617] pt-32 pb-20 transition-colors duration-500 flex items-center justify-center">
    <div class="max-w-2xl w-full px-4 relative z-10">
        
        {# --- MAIN SUCCESS BLOCK --- #}
        <div class="bg-white dark:bg-slate-900 border-4 border-black dark:border-white rounded-[3rem] shadow-[16px_16px_0px_0px_rgba(16,185,129,1)] overflow-hidden animate-brutal-pop">
            
            {# --- STATUS BAR --- #}
            <div class="bg-emerald-500 border-b-4 border-black dark:border-white p-10 text-white text-center relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-20">
                    <i class="fas fa-broadcast-tower text-6xl rotate-12"></i>
                </div>
                
                <div class="w-24 h-24 bg-white border-4 border-black rounded-full flex items-center justify-center mx-auto mb-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] success-icon-anim">
                    <i class="fas fa-check text-emerald-500 text-4xl"></i>
                </div>
                
                <h1 class="text-4xl md:text-5xl font-black tracking-tighter uppercase m-0 leading-none">
                    Signal Live
                </h1>
                <p class="text-white/90 font-black uppercase tracking-[0.3em] text-[10px] mt-4">
                    Broadcast ID: <span class="bg-black text-white px-2 py-0.5">#{{ item.id|default:"AUTOGEN-2025" }}</span>
                </p>
            </div>

            {# --- MESSAGE CONTENT --- #}
            <div class="p-8 md:p-12 text-center">
                <div class="mb-10">
                    <h2 class="text-2xl font-black uppercase tracking-tight mb-4 dark:text-white">
                        Operation Successful
                    </h2>
                    <p class="text-slate-600 dark:text-slate-400 font-bold uppercase text-[11px] leading-relaxed max-w-sm mx-auto tracking-wide">
                        The report for <span class="text-black dark:text-white underline decoration-emerald-500 decoration-2 underline-offset-4">"{{ item.title }}"</span> has been indexed and broadcasted to the local network.
                    </p>
                </div>

                {# --- ACTION GRID --- #}
                <div class="grid grid-cols-1 gap-4">
                    <a href="{% url 'core:item_detail' pk=item.id %}" class="bg-indigo-600 text-white py-5 border-4 border-black rounded-2xl font-black uppercase tracking-widest text-sm shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-3px] hover:translate-y-[-3px] hover:shadow-[9px_9px_0px_0px_rgba(0,0,0,1)] transition-all flex items-center justify-center gap-3">
                        <i class="fas fa-eye"></i> View Live Signal
                    </a>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <a href="{% url 'core:home' %}" class="bg-white dark:bg-slate-800 text-black dark:text-white py-4 border-4 border-black dark:border-white rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-100 dark:hover:bg-black transition-all">
                            <i class="fas fa-home mr-2"></i> Feed
                        </a>
                        <a href="{% url 'core:report_item' %}" class="bg-white dark:bg-slate-800 text-black dark:text-white py-4 border-4 border-black dark:border-white rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-slate-100 dark:hover:bg-black transition-all">
                            <i class="fas fa-plus mr-2"></i> New
                        </a>
                    </div>

                    {# --- SHARE SECTION --- #}
                    <div class="mt-6 pt-8 border-t-2 border-slate-100 dark:border-slate-800">
                        <p class="text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4">Widen Search Radius</p>
                        <button onclick="copyToClipboard()" class="w-full flex items-center justify-center gap-2 text-indigo-600 dark:text-indigo-400 font-black text-[10px] uppercase tracking-widest hover:underline group">
                            <i class="fas fa-share-alt group-hover:rotate-12 transition-transform"></i> 
                            Copy Public Link to Clipboard
                        </button>
                    </div>
                </div>
            </div>

            {# --- SYSTEM LOG FOOTER --- #}
            <div class="bg-slate-50 dark:bg-slate-800/50 px-8 py-3 border-t-4 border-black dark:border-white flex justify-between items-center">
                <span class="text-[8px] font-black text-slate-400 dark:text-slate-500 uppercase">Status: 200 OK // Indexed</span>
                <span class="text-[8px] font-black text-emerald-500 uppercase animate-pulse">‚óè System Online</span>
            </div>
        </div>
    </div>
</div>

<style>
    @keyframes brutal-pop {
        0% { transform: scale(0.9) translateY(20px); opacity: 0; }
        100% { transform: scale(1) translateY(0); opacity: 1; }
    }
    
    @keyframes success-bounce {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    .animate-brutal-pop {
        animation: brutal-pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    .success-icon-anim {
        animation: success-bounce 2s ease-in-out infinite;
    }
</style>

<script>
    function copyToClipboard() {
        const url = window.location.origin + "{% url 'core:item_detail' pk=item.id %}";
        navigator.clipboard.writeText(url).then(() => {
            alert("Signal link copied to clipboard!");
        });
    }
</script>
{% endblock %}